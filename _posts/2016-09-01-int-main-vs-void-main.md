---
layout: post
title: int main vs. void main
category: [عمومی]
tags: [برنامه نویسی, cpp]
date: 2016-09-01 00:14:00 +0330
published: true
permalink: /posts/int-main-vs-void-main
summary: شاید برای شما هم اتفاق افتاده باشه که در بعضی از برنامه‌های C و C++ با تابع void main() مواجه شده باشید، آیا استفاده از این تابع درسته؟ تفاوت بین int main() و void main() در چیست؟ از کدام باید استفاده کنیم؟ در این مطلب قصد دارم با بیانی طنز، به رفع ابهام در این مورد بپردازم.
excerpt_separator: <!--more--> 
uuid: cf4bef58-601b-465e-9862-e272a2ad6fda
comments: true
series: 
description: شاید برای شما هم اتفاق افتاده باشه که در بعضی از برنامه‌های C و C++ با تابع void main() مواجه شده باشید، آیا استفاده از این تابع درسته؟ تفاوت بین int main() و void main() در چیست؟ از کدام باید استفاده کنیم؟ در این مطلب قصد دارم با بیانی طنز، به رفع ابهام در این مورد بپردازم.
---
<p><blackquote class="warning">
قبل از هر چیزی، ذکر این موضوع لازمه که در پاسخ به سوالات مطرح شده در این نوشتار، مقداری از طنز و خوشمزه بازی استفاده شده.
</blackquote></p>

حدود چند هفته پیش در محل کار، با یکی از همکاران این بحث پیش اومد که آیا در بدنه structها در ++C می‌توان به تعریف توابع پرداخت یا خیر. هر چند که همکارم با وجود ادعایی که درباره میزان آشنایی خودش با زبان‌های برنامه نویسی مختلف داره، از وجود همچین قابلیتی در ++C مطلع نبود، بلکه حتی وقتی که وی قصد داشت تا کدی برای اثبات این موضوع که نمی‌توان در ++C داخل structها تابع تعریف کرد، بنویسد، کد خود را بدون کاراکتری دخل و تصرف به شکل زیر آغاز کرد!
<div class="ltr-direction font-family-consolas">
<pre class="brush: cpp">
void main()
</pre>
</div>
واقعا دیگه حتی برام مقدور نیست که کوچکترین خیال پردازی یا تصوری در مورد میزان آشنایی این همکارم حتی با پیش پا افتاده‌ترین قابلیت‌های زبان‌های برنامه نویسی داشته باشم.
اما موضوع اساسیی که اینجا مطرح می‌شه و ممکنه برای خیلی‌های دیگه هم مورد سوال باشه و یا ایجاد سردرگمی کنه، اینکه، کدوم یکی از برنامه‌های زیر درست هستند؟ اولی یا دومی؟
<div class="ltr-direction font-family-consolas">
<pre class="brush: cpp">
int main()
{
   return 0;
}
</pre>
</div>
و یا
<div class="ltr-direction font-family-consolas">
<pre class="brush: cpp">
void main(
{
   // Code goes here...
}
</pre>
</div>
<span class="number-box">۱</span>
قطعا اولین سوالی که مطرح میشه مربوط به تفاوت بین <span class="highlight-text">()int main</span> و <span class="highlight-text">()void main</span> میشه!

جواب خیلی ساده است! اگر دم دست من باشید، استفاده از یکی از این دو، به قیمت جونتون تموم میشه.

<span class="number-box">۲</span>
احتمالا حالا به این فکر می‌کنید اگر از هر دو روش میشه استفاده کرد، پس حتما تفاوتی وجود داره؛ ولی خب... این تفاوت قراره به قیمت جونمون تموم شه... پس حالا کدوم بهتره؟ و چرا؟

باید در نظر داشته باشیم که سوال پرسیدن در مورد <span class="highlight-text">مزیت</span> ایکی از ین دو روش به دیگری به هیچ وجه درست نیست، بلکه سوال اصلی و موضوع مورد بحت سر این دو روش، بر سر <span class="highlight-text">مجاز بودن</span> یکی از این روش‌هاست.

تاکید می‌کنم که تنها <span class="highlight-text">()int main</span> طبق استاندارد C و ++C مجازه.

<span class="number-box">۳</span>
قطعا افرادی پیدا می‌شن که بگن، پس چرا بعضی از کامپیالرها اجازه به استفاده از <span class="highlight-text">()void main</span> میدن؟

جواب این سوال هم ساده است، مشکل از جاییست که متاسفانه هنوز جایی در استاندارهای C و ++C اجازه تیراندازی به نویسندگان همچین دست از کامپایلرهایی داده نشد.

مورد بعدی هم راجع به استفاده از برنامه‌های به شکل زیره:
<div class="ltr-direction font-family-consolas">
<pre class="brush: cpp">
int main(
{
   // No return statement...
}
</pre>
</div>
راجع به این روش و استفاده از ()int main بدون برگردوندن یک مقدار عددی صحیح هم این نکته وجود داره که بعضی از کامپیالرها در شرایطی که شما عبارت <span class="highlight-text">;return x</span> رو جا انداخته باشید، به طور اتوماتیک این عبارت رو به انتهای تابع main برنامه اضافه می‌کنند، اما هم کسی که این خط رو جا می‌ندازه و هم نویسنده کامپیالری که زیر سیبیلی این موضوع رو رد می‌کنه رو هم، باز باید مجازات کرد.

در واقع طبق استاندارد ANSI برای C و طبق استاندارد ISO برای ++C این موضوع محلی از بحث نداره و مختومه است، ولی اگر کسی علاقه به مشاهده مثالی داشت، که در اون، استفاده از ()void main در یک برنامه، باعث بروز مشکلاتی میشه، می‌تونه به [اینجا](https://www.ty-penguin.org.uk/~auj/voidmain/) سر بزنه.
